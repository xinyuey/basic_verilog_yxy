### SPI特性

- 全双工、同步、串行通信
- 四线协议
- 单主多从
- 无开始、结束信号
- 无应答信号

### SPI参数

- 工作频率

  - 最大工作频率是系统时钟的1/2
  - 边沿采样

- 工作模式

  | MODE | CPHA | CPOL | SCK  |          描述          |
  | :--: | :--: | :--: | :--: | :--------------------: |
  |  0   |  0   |  0   |      | 上升沿采样，下降沿更新 |
  |  1   |  0   |  1   |      | 上升沿更新，下降沿采样 |
  |  2   |  1   |  0   |      | 上升沿更新，下降沿采样 |
  |  3   |  1   |  1   |      | 上升沿采样，下降沿更新 |

- 传输位宽

  - 8-bit
  - 16-bit
  - 32-bit

- 传输大小端

  - MSB first
  - LSB first

### SPI_master子模块

- 时钟分频
- 控制器读写命令检测
- 片选信号
- 数据缓存
- 输入串转并（读）
- 输出并转串（写）
- 输入输出计数器

### SPI_master时序波形图

![](Y:\work\basic_verilog_yxy\spi\doc\spi_master_tb.png)